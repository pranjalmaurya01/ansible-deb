---
- hosts: localhost
  connection: local
  become: true

  pre_tasks:
    - name: update repositories
      apt:
        update_cache: yes
      changed_when: False

  tasks:
    - name: install packages
      package:
        name:
          - htop
          - vim
          - git
          - zsh
    - name: Download get-docker.sh script
      get_url:
        url: https://get.docker.com/
        dest: /tmp/get-docker.sh
        mode: "u+x"
        validate_certs: no

    - name: Execute get-docker.sh script
      command: /tmp/get-docker.sh
